<!DOCTYPE html>
<html
  lang="en"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  xmlns:th="http://www.thymeleaf.org"
  layout:decorate="~{master-layout.html}"
>
  <head>
    <title>Products</title>
  </head>
  <body>
    <main layout:fragment="content">
      <div class="container-fluid d-flex">
        <div class="w-25">
          <h4>Categories</h4>
          <ul class="list-group">
            <li
              class="list-group-item list-group-item-action"
              th:each="category : ${availableCategories}"
            >
              <a
                th:href="@{/products/categories/{id}(id=${category.id})}"
                th:text="${category.title}"
              ></a>
            </li>
          </ul>
        </div>
        <div class="container-fluid px-5">
          <div class="row">
            <div class="col-md-4 mb-4" th:each="product : ${products}">
              <div class="card">
                <img
                  th:src="@{/img/{imageFile}(imageFile=${product.image})}"
                  class="card-img-top"
                  alt="Product 1"
                />
                <div class="card-body">
                  <h5 class="card-title" th:text="${product.title}">
                    Product 1
                  </h5>
                  <p class="card-text" th:text="${product.description}">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Donec sed diam eu diam pretium bibendum.
                  </p>
                  <a
                    th:href="@{/products/{id}(id = ${product.id})}"
                    class="btn btn-primary"
                    >View Details</a
                  >
                </div>
              </div>
            </div>
            <div th:if="${#lists.isEmpty(products)}">
              <p>No products found</p>
            </div>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
